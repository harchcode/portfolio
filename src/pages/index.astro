---
import "@fontsource/lexend/300.css";
import "@fontsource/lexend/400.css";
import lexend300woff2 from "@fontsource/lexend/files/lexend-latin-300-normal.woff2?url";
import lexend400woff2 from "@fontsource/lexend/files/lexend-latin-400-normal.woff2?url";
import "../style.css";

import data from "../data";
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="description" content="Hartono Chandra" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link
      rel="preload"
      as="font"
      type="font/woff2"
      href={lexend300woff2}
      crossorigin="anonymous"
    />
    <link
      rel="preload"
      as="font"
      type="font/woff2"
      href={lexend400woff2}
      crossorigin="anonymous"
    />

    <title>Hartono Chandra</title>
  </head>

  <body>
    <canvas id="bg" class="fixed top-0 -z-10 w-screen h-screen"></canvas>

    <header class="sm:mt-12 p-4">
      <h1>
        <span class="font-bold">h</span>artono<span class="font-bold">c</span
        >handra<span class="font-bold text-stone-600">.dev</span>
      </h1>

      <nav class="uppercase flex gap-x-8 sm:gap-x-12 mt-8 sm:mt-12">
        <a href="#about">About</a>
        <a href="#experience">Experience</a>
        <a href="#projects">Projects</a>
      </nav>
    </header>

    <section id="about" class="mt-16 sm:mt-32 p-4">
      <h2>About me</h2>

      <div
        class="mx-auto max-w-xl mt-12 text-lg text-stone-600"
        style="line-height: 1.8"
        set:html={data.intro}
      />

      <div class="mx-auto max-w-xl flex justify-center mt-12 gap-x-8">
        {
          data.socialLinks.map(link => (
            <a
              href={link.url}
              aria-label={link.title}
              class="flex items-center justify-center w-12 h-12 bg-white border-2 border-b-4 border-black rounded-full underline text-xl"
            >
              {link.label}
            </a>
          ))
        }
      </div>
    </section>

    <section id="experience" class="mt-32 sm:mt-64 p-4">
      <h2>My work experience</h2>

      <div
        class="mt-12 sm:ml-12"
        style="display:grid; grid-template-columns: 1fr;"
      >
        {
          data.works.map(work => (
            <div class="experience-item">
              <div class="text-stone-600">{work.periode}</div>
              <div class="text-xl mt-4">{work.jobTitle}</div>
              <h3 class="text-xl font-bold mt-2">{work.companyName}</h3>
              <div class="mt-8 max-w-lg" set:html={work.content} />
              <div class="mt-8 flex flex-wrap gap-2 max-w-xl">
                {work.tags.map(tag => (
                  <div class="px-2 py-1 border bg-lime-50 rounded">{tag}</div>
                ))}
              </div>
            </div>
          ))
        }
      </div>
    </section>

    <section id="projects" class="mt-32 sm:mt-64 p-4">
      <h2>My personal projects</h2>

      <div class="mt-12 sm:mx-12 gap-y-32 max-w-xl">
        {
          data.projects.map(project => (
            <div
              class="project-item inline-block pb-32"
              style="break-inside: avoid;"
            >
              <h3 class="text-xl font-bold">{project.name}</h3>

              <div class="mt-8" set:html={project.description} />

              <div class="mt-8 flex flex-wrap gap-2 max-w-xl">
                {project.tags.map(tag => (
                  <div class="px-2 py-1 border bg-blue-50 rounded">{tag}</div>
                ))}
              </div>

              <div class="mt-4 flex flex-wrap gap-4">
                {project.links.map(link => (
                  <a
                    href={link.url}
                    class="flex items-center justify-center bg-white border-2 border-b-4 border-black rounded-4xl w-24 px-4 py-2"
                  >
                    {link.text}
                  </a>
                ))}
              </div>
            </div>
          ))
        }
      </div>
    </section>

    <footer
      class="border-t-2 border-stone-200 mt-32 text-stone-500 py-16 px-8 text-center"
    >
      Made with <span class="text-red-500">â™¥</span> using <a
        class="text-blue-600 underline"
        href="https://astro.build/">Astro</a
      > and
      <a class="text-blue-600 underline" href="https://tailwindcss.com/"
        >Tailwind</a
      >
    </footer>

    <script>
      // Simple animation for elements when they come into view
      const observerOptions = {
        root: null,
        rootMargin: "0px",
        threshold: 0
      };

      const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            (entry.target as HTMLElement).style.opacity = "1";
            (entry.target as HTMLElement).style.transform = "translateY(0)";
          }
        });
      }, observerOptions);

      // Observe experience items and project items
      document
        .querySelectorAll("section, .experience-item, .project-item")
        .forEach(item => {
          (item as HTMLElement).style.opacity = "0";
          (item as HTMLElement).style.transform = "translateY(20px)";
          (item as HTMLElement).style.transition =
            "opacity 1s ease, transform 1s ease";

          observer.observe(item);
        });
    </script>
  </body>
</html>
